<div class="container small px-5 py-3">
  <div *ngFor="let product of cart;let count=index">
    <div class="card  shadow mb-3" style="max-width: 900px;">
      <div class="card-body">
        <div class="row g-6">
          <div class="col-md-12 border-bottom py-1">
            <p>Shipped from Takealot Warehouse</p>
          </div>
          <div class="col-md-4 py-2">
            <img src="{{product.image}}" class="img-fluid img border border-primary" alt="...">
          </div>
          <div class="col-md-4 py-5">
            <p class="card-text "><small class="text-muted">{{product.title}}</small></p>
            <p class="card-text "><small class="text-muted">{{product.id}}</small></p>
            <div class="card-text py-1">
              <small class="text-white bg-dark">In stock</small>
              <span class="location px-2">JHB</span>
            </div>
          </div>
          <div class="col-md-4 py-5">
            <div class="right">
              <div class="row py-2 ">
                <div class="offset-4 col py-2">
                  <h5 #price>R {{product.price * product.quantity}}</h5>
                </div>
                <div class="row py-2">
                  <div class="offset-4 col-4">
                    <p>QTY:</p>
                  </div>
                  <div class="col-4">
                    <select class="form-select small" id="{{count}}" [(ngModel)]="product.quantity " (change)="OnEachQuantityChange(cart)">
                      <option value="1" selected>1</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                    </select>
                  </div>
                  <div class="col py-2">
                    <button class="btn small" (click)="RemoveItem(product.id)" type="button">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                           class="bi bi-trash-fill" viewBox="0 0 16 16">
                        <path
                          d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
                      </svg>
                      Remove
                    </button>
                  </div>
                  <div class="col  py-2">
                    <button class="btn px-0 small" type="button">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                           class="bi bi-trash-fill" viewBox="0 0 16 16">
                        <path
                          d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
                      </svg>
                      Move to list
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="paymentdelivery">
      <div class="card shadow">
        <div class="card-body">
          <h6 class="card-title">Cart Summary</h6>
          <div class="row">
            <div class="col-6 py-2">
              <p class="card-text">Total</p>
            </div>
            <div class="col-6 py-2">
              <h3 class="card-text text-success">R {{this.totalPrice}}</h3>
            </div>
            <div class="col-12 py-2">
              <div class="d-grid ">
                <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#sessionModal" type="button" [class.disabled]="totalPrice <= 0"
                        (click)="Checkout()">Proceed to Checkout
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Button trigger modal -->
  <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#sessionModal">
    Checkout Session
  </button>

  <!-- Modal -->
  <div class="modal fade" id="sessionModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="exampleModalLabel">Checkout Session</h4>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <h6>You are about to be redirected to out secure checkout page</h6>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary">Continue</button>
        </div>
      </div>
    </div>
  </div>
